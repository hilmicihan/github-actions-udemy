name: Load Testing Workflow

# Schedule the workflow to run on the 1st day of every 3rd month at midnight
on:
  schedule:
    - cron: '0 0 1 */3 *'
  push:
  
jobs:
  load_test:
    runs-on: ubuntu-latest
    steps:
      # Checkout the code from the repository
      - name: Checkout Code
        uses: actions/checkout@v2
        
      # Install the dependencies required for running the load test
      - name: Install Dependencies
        run: pip install -r requirements.txt
        
      # Run the load test using Locust with the specified parameters
      - name: Run Load Test
        run: locust -f load_test.py --headless --users=50 --spawn-rate=10 --host https://jsonplaceholder.typicode.com --run-time=2s
